"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[462],{462:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});const a='---\nlayout: post\ntitle:      "How Katie Couric Inspired My React Redux Project"\ndate:       2020-11-01 11:34:47 -0500\npermalink:  how_katie_couric_inspired_my_react_redux_project\n---\n\n\nThe time had finally come, after months (and months) of learning and coding, to build my final project. This was my chance to show off everything I had learned up to this point, all the way from the beginning days of Ruby to the final days of React and Redux. And what a journey it has been! The only question that remained: What could I possibly create to showcase my newfound talents? As usual, Katie Couric had the answer.\n\nA little context: While quarantining I stumbled across the 2014 documentary Fed Up, a deep-dive into the American Food Industry and the negative effects it may or may not be having on our health. It was eye-opening and, to be honest, quite alarming. Long-story short, we have a bit of a problem here in America with our diets, and I was no exception. At the end of the documentary Ms. Couric challenged me to go 10 days without added sugar. That seemed unreasonable, so instead I decided to attempt one week without any processed foods. Although seven days without Cheez-Its was rather grueling, the week passed, and I surprisingly felt pretty good. I decided to try for week two. Essentially this catapulted me into a health documentary rabbit hole that <strike>scared</strike> inspired me to start eating cleaner.\n\n<iframe src="https://giphy.com/embed/RKRqGJinGNjIzNRy4P" width="480" height="247" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p><a href="https://giphy.com/gifs/ron-swanson-so-what-whats-your-point-RKRqGJinGNjIzNRy4P">via GIPHY</a></p>\n\nAt this point, I\u2019m sure you\u2019re wondering what any of this could possibly have to do with my final project. As I started this whole journey I thought it would be a good idea to track my nutrition. There are PLENTY of apps out there that allow you to do so, but I couldn\u2019t find one that had everything I wanted. A comprehensive database of food, pretty visuals tracking my nutrient intake, exercise summaries for the week, recommendations of what to eat based on what I\u2019ve already consumed for the day, and the list goes on (what can I say, I have high expectations). I could find at least one, maybe two of these features in any given app, but I couldn\u2019t find them all in one place. Luckily, Flatiron equipped me with the skills to change that. Disclaimer: I haven\u2019t actually changed that yet because that\u2019s a LOT of stuff, but for now I have built an app that allows you to track your food, nutrients, and exercises for the day. Not bad!\n\nAs always, it all started with an outline to help keep me organized and plan how I was going to set up the backend:\n\n<img src="https://user-images.githubusercontent.com/33204849/97806051-b15e9480-1c27-11eb-8c1d-7f3e968bd539.jpg" width="800" height="831">\n\nI also spent a bit of time planning my frontend to have a clear idea of what I wanted my user experience to be:\n\n<img src="https://user-images.githubusercontent.com/33204849/97806170-48c3e780-1c28-11eb-8a9e-b29b6c615aa6.jpg" width="800" height="745">\n\nA couple of rails g resource commands and one create-react-app command later, and I was on my way.\n\n### Props to React\nI was excited to dive deep into building my first React App, taking advantage of all its great features, performance and components among them. Since I was using a new framework, and really because it\'s best practice, I knew organization would be key to keeping track of my code. Modeling my project after a few select Flatiron labs, I came up with a basic file structure, starting with a container component for each model on my backend. I would connect these components to my Redux store to get any necessary information to pass down to their respective children. For example, I created an ExercisesContainer, within which I rendered three child components in the appropriate routes: Exercises, ExerciseInput, and ExerciseUpdate. ExerciseInput and ExerciseUpdate would be responsible for rendering the "new" and "update" forms for a user\'s exercise. Exercises.js would render each individual exercise as an ExerciseCard component. I used this basic structure for each model in my application to stay consistent, and as a result I was able to locate all of my code with ease.\n\nBy making use of `mapStateToProps()` and `mapDispatchToProps()` I could get all of the necessary information from the Redux store to pass to these child components.\n\n```\n//src/containers/ExercisesContainer.js\n\nimport React, { Component } from \'react\'\nimport { connect } from \'react-redux\';\nimport { Route, Switch } from \'react-router-dom\';\n\nimport { createExercise } from \'../actions/exercises\';\nimport { updateExercise } from \'../actions/exercises\';\nimport { deleteExercise } from \'../actions/exercises\';\n\nimport Exercises from \'../components/exercises/Exercises\';\nimport ExerciseInput from \'../components/exercises/ExerciseInput\';\nimport ExerciseUpdate from \'../components/exercises/ExerciseUpdate\';\n\nclass ExercisesContainer extends Component {\n\nrender() {\n  return (\n    <div>\n      <Switch>\n        <Route exact path={`${this.props.match.url}/new`} render={props =>\n          <ExerciseInput currentUser={this.props.currentUser} createExercise={this.props.createExercise} date={this.props.date} history={this.props.history} />\n        } />\n\n        <Route exact path={this.props.match.url} render={props =>\n          <Exercises exercises={this.props.exercises} deleteExercise={this.props.deleteExercise} date={this.props.date} caloriesBurned={this.props.caloriesBurned} {...props} />\n        } />\n\n        <Route exact path={`${this.props.match.url}/:exerciseId/edit`} render={props => {\n          const exercise = this.props.exercises.find(exercise => exercise.id === props.match.params.exerciseId)\n          if (!!exercise) {\n            return (\n              <ExerciseUpdate exercise={exercise} currentUser={this.props.currentUser} updateExercise={this.props.updateExercise} date={this.props.date} {...props} />\n            )\n          }\n        }} />\n      </Switch>\n    </div>\n  );\n};\n};\n\nconst mapStateToProps = state => ({\n  currentUser: state.currentUser,\n  exercises: state.exercises\n});\n\nconst mapDispatchToProps = {\n  createExercise,\n  updateExercise,\n  deleteExercise\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ExercisesContainer);\n```\n\nAbove, connect is invoked and returns a function that supplies ExercisesContainer with props that are included as state as described in `mapStateToProps()` and actions as described in `mapDispatchToProps()`. This function takes ExercisesContainer as an argument, so I am not just exporting ExercisesContainer as I\'ve defined it, but a bulked up version with state and actions from the Redux store. Which is a perfect segue into the next section.\n\n\n### Utilizing the Redux Store\nWith Redux being another requirement, I needed to figure out how to make use of the Redux store. I knew this would require using reducers and action creators, but it was admittedly a daunting task to take on having never done it before. I started with creating an all-encompassing store.js file. This is where I would import all of my reducers, combine them into one reducer, and use the createStore function: `createStore(reducer, composeEnhancer(applyMiddleware(thunk)))`. I could then import this into my index.js file and pass store as prop to Provider, giving me access to the store anywhere within my app, with the proper code.\n\n```\n//src/index.js\n\nReactDOM.render(\n  <Provider store={ store } >\n    <Router>\n     <App />\n    </Router>\n  </Provider>, document.getElementById(\'root\')\n);\n```\n\nOkay, now that I had that all set up, I had to actually create my reducers and action creators that would be imported into store.js. Just like with my containers, I figured it would make sense to have separate reducers and action creators to correspond with my models on the backend. With the help of one of Howard\u2019s instructional videos, I followed three key steps:\n1. Build reducer\n2. Add to store\n3. Build action creator\n\nUsing Exercises as an example, there were a few things I wanted to accomplish: I wanted to set a user\u2019s exercises on login and clear a user\u2019s exercises on logout, in addition to allowing a user to add, update, and delete exercises from the database. That\'s a lot to think about all at once, so I took it one step at a time, starting with building a reducer:\n\n```\n//src/reducers/exercises.js\n\nexport default (state = [], action) => {\n  switch (action.type) {\n    case "SET_EXERCISES":\n      return action.exercises\n    case "ADD_EXERCISE":\n      return state.concat(action.exercise)\n    case "UPDATE_EXERCISE":\n      return (state.map(exercise => {\n        if (exercise.id === action.exercise.id ) {\n          return action.exercise\n        } else {\n          return exercise\n        }\n      }))\n    case "DELETE_EXERCISE":\n      return state.filter(exercise => exercise.id !== action.exerciseId)\n    case "CLEAR_EXERCISES":\n      return []\n    default:\n      return state\n  }\n}\n```\n\nWith my reducer in place, next came step two: add it to the store:\n\n```\n//src/store.js\n\nimport { createStore, applyMiddleware, compose, combineReducers } from \'redux\';\nimport thunk from \'redux-thunk\';\n\nimport exercises from \'./reducers/exercises\';\n\nconst reducer = combineReducers({\n  exercises,\n  // additional reducers would be listed here after importing above\n});\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(reducer, composeEnhancer(applyMiddleware(thunk)));\n\nexport default store;\n```\n\nThen came the slightly challenging part \u2014 building the action creators. Again, with Howard\u2019s help, I decided to break these up into synchronous and asynchronous actions (#organization). My synchronous actions would correspond with the actions listed in my reducer:\n\n```\n//src/actions/exercises.js\n\nexport const setExercises = exercises => {\n  return {\n    type: "SET_EXERCISES",\n    exercises\n  }\n}\n\nexport const clearExercises = () => {\n  return {\n    type: "CLEAR_EXERCISES"\n  }\n}\n\nexport const addExercise = exercise => {\n  return {\n    type: "ADD_EXERCISE",\n    exercise\n  }\n}\n\nexport const updateExerciseSuccess = exercise => {\n  return {\n    type: "UPDATE_EXERCISE",\n    exercise\n  }\n}\n\nexport const deleteExerciseSuccess = exerciseId => {\n  return {\n    type: "DELETE_EXERCISE",\n    exerciseId\n  }\n}\n```\n\nOkay, that actually wasn\'t too bad. *Then* came the slightly challenging part \u2014 writing the asynchronous action creators that would need to connect to the backend API. For our purposes they\'re all relatively similar, so we\u2019ll focus on `createExercise`. This is called in the ExerciseInput component when a user clicks on \u201cSubmit\u201d:\n\n```\n//src/components/exercises/ExerciseInput.js\n\nhandleSubmit = event => {\n  event.preventDefault();\n  this.props.createExercise(this.state, this.props.date, this.props.currentUser, this.props.history)\n};\n```\n\nRemember, the action creator is passed as a prop to ExerciseInput from ExercisesContainer, which has access to it through `mapDispatchToProps()`. Okay, back to the action creator itself. First, we need to take the information the user inputted and create an exercise object. The action creator will return a function (thank you, thunk!) that takes dispatch as an argument. Inside that function we can dispatch multiple actions and return our fetch request. And since we\u2019re so familiar with fetch requests at this point, the rest is smooth sailing:\n\n```\n//src/actions/exercises.js\n\nexport const createExercise = (exerciseData, date, currentUser, history) => {\n  const exercise = {\n    user_id: currentUser.id,\n    date: date,\n    category: exerciseData.category,\n    name: exerciseData.name,\n    duration_in_minutes: exerciseData.duration_in_minutes,\n    calories_burned: exerciseData.calories_burned\n  }\n\n  return dispatch => {\n    return fetch(baseUrl, {\n      credentials: "include",\n      method: "POST",\n      headers: {\n        "Content-Type": "application/json"\n      },\n      body: JSON.stringify(exercise)\n    })\n      .then(response => response.json())\n      .then(json => {\n        if (json.error) {\n          console.log(json.error)\n        } else {\n          dispatch(addExercise(json.data))\n          history.push("/exercises")\n        }\n      })\n      .catch(console.log())\n  }\n}\n```\n\nSo I pretty much could just follow that pattern for all the other models and I would have a fully functioning React Redux app, right?\n\n<iframe src="https://giphy.com/embed/gIf19UHBI6jmEnR1aJ" width="480" height="480" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p><a href="https://giphy.com/gifs/cbc-schitts-creek-gIf19UHBI6jmEnR1aJ">via GIPHY</a></p>\n\n\n### Theres a Package For That\nLet\'s take a break from all of the requirements and talk about some of the fun features I was able to add (not that the requirements aren\'t fun...). A couple of times I found myself wanting to include a feature, but I had no idea where to begin. If there\u2019s one thing I\u2019ve learned, it\u2019s that there is quite a bit of open source code out there that can really help bring your project to the next level. With a bit of Googling and a few YouTube tutorials, I was able to add some really cool elements to my frontend. For one, I wanted the user to be able to change the date and see all relevant information for that date (nutrition, meals, exercises, etc.). React DatePicker to the rescue. This is a great package that allowed me to accomplish just that. \n\n<img width="255" alt="date-picker" src="https://user-images.githubusercontent.com/33204849/97806205-76a92c00-1c28-11eb-9b66-93188ac2b761.png">\n\nAnother idea I had was to display a user\u2019s macronutrient information in doughnut chart form to give them a clear visual of where they stood for the day. This proved to be a little trickier. It may be that my Google search terms weren\u2019t as clear, or that I wasn\u2019t sure what to look for, but I spent quite a bit of time on this. First creating a static pie chart, but then realizing I needed it to be dynamic and update as the database information updated. Finally, I stumbled across Chart.js, which again, pretty much does exactly what I was looking for. In this instance I thought I would be able to create the chart myself, but once I found Chart.js I knew that I was better off using that and moving on. Not only is my code much cleaner than it would be if I had implemented something on my own, the charts have features I never would have been able to add (animation, hover features, etc.). \n\n<img width="410" alt="macronutrients-chart" src="https://user-images.githubusercontent.com/33204849/97806224-917ba080-1c28-11eb-8559-19ae57b671bd.png">\n\nThroughout this project and course I\'ve learned that if there is a feature I\u2019ve either seen somewhere before or am having a heck of a time implementing, there is absolutely no shame in seeing what already exists that I might be able to make use of. In the end, it just frees up my time to focus on something else.\n\n\n### Is that everything?\nHeck no! It never is though. I have so many more ideas of features to add. Like all the things on my fitness app wishlist, for one. I\'d also like to implement an email feature and send a weekly email recap to users, offering fitness/health tips and letting them know if they met their goals. Speaking of goals, I want to add a feature that allows a user to set their own goals. I also think it would be great to add accessibility features. I have a few sprinkled throughout, but not anywhere near what I should have. And I would love to add tests. Test-driven development is so important and useful and I have yet to build a project with a comprehensive test suite. In a nutshell, there\u2019s much left to do. Even though I\u2019m \u201cdone\u201d with my final project, this student\u2019s journey is far from over. Before I dive into any of that, I\u2019m going to take a quick break for some Cheez-Its.\n\nWhat? I\u2019ve earned it.\n\n<iframe src="https://giphy.com/embed/xUOxfaABfkwPSJ5M6A" width="480" height="270" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p><a href="https://giphy.com/gifs/thegoodplace-season-1-xUOxfaABfkwPSJ5M6A">via GIPHY</a></p>\n'}}]);
//# sourceMappingURL=462.c10621f6.chunk.js.map